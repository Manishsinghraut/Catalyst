@all
Feature: Editable Report - Custom List on Entity Page - [Jira Ref. : AUTOMATION-1397]

  Scenario Outline: As Delete User, I Import the following files
    Given I Login to IWMS using "<Login User>" access credentials
    Then I check previous user login "<Login full username>" and continue if user "<Login User>" same or logout and login if not
    When I used data files from "Data/ImportDataFiles/iwms/Reports/EditableReports/"
    And I import following files:
      | SiteEntityForCL_1397.xml              |
      | SiteEntityPageLayout_1397.xml         |
      | ReportOnCustomListEntityPage_1397.xml |

  Examples:
    | Login User   | Login full username  |
    | DeleteAccess | Delete Access Access |


  Scenario Outline: As Delete user, I verify the Data should be saved successfully
    Given I Login to IWMS using "<Login User>" access credentials
    Then I check previous user login "<Login full username>" and continue if user "<Login User>" same or logout and login if not

    And I Search for the "<Entity Name>" that was created
    And Click on the name of the "<Entity Name>" in the results pop-up
    Then I see "<Entity Name>" name on the header
    And I click on the "<Third Level Tab>" tab

    And I click on the "Edit" action panel button
    And I click '+ Add' button to add line items
    And I enter row values in grid "<GRID>" by the following values
      | Date       | Item Name | Quantity | Price | Completed |
      | 02/09/2016 | Carpet    | 12       | 1500  | true      |
    And I click "Update" button

    And I click '+ Add' button to add line items
    And I enter row values in grid "<GRID>" by the following values
      | Date       | Item Name | Quantity | Price |
      | 02/16/2016 | Door      | 25       | 900   |
    And I click "Update" button
    And I click on the "Save Changes" action panel button

    And I view a unique row in grid "<GRID>" having unique value "Carpet" under column header "Item Name"
      | name      | value      |
      | Date      | 02/09/2016 |
      | Item Name | Carpet     |
      | Quantity  | 12         |
      | Price     | 1500       |
      | Completed | true       |

    And I view a unique row in grid "<GRID>" having unique value "Door" under column header "Item Name"
      | name      | value      |
      | Date      | 02/16/2016 |
      | Item Name | Door       |
      | Quantity  | 25         |
      | Price     | 900        |
      | Completed | false      |

  Examples:
    | Login User   | Login full username  | Entity Name     | Third Level Tab | Form Type         | GRID            |
    | DeleteAccess | Delete Access Access | SiteEntityForCL | Summary         | Form layout-10811 | ^customListGrid |


  Scenario Outline: As Edit user, I verify the Error Pop-up should be displayed
    Given I Login to IWMS using "<Login User>" access credentials
    Then I check previous user login "<Login full username>" and continue if user "<Login User>" same or logout and login if not

    Then I navigate to the reports dashboard
    And I click on the "run" row action of column "<Report Name>" of column "0" from grid "<Grid>"
    And I switch to "report" child window
    And I verify the following values in non frame grid
      | Name            |
      | SiteEntityForCL |

    And I expand "SiteEntityForCL" entity report
    And I click on the custom list entity "EntityCL" to update the value on the report

    And I click '+ Add' button to add line items
    And I enter row values in grid "^customListGrid" by the following values
      | Date       | Item Name | Quantity | Price |
      | 02/23/2016 | Window    | 20       | 500  |
    And I click "Update" button

    And I click on the green check-mark
    And I close the "Report" child window
    And I switch to main window

  Examples:
    | Login User | Login full username | Report Name                       | Grid        |
    | EditAccess | Edit Access Access  | Report on Custom List Entity Page | pageContent |

