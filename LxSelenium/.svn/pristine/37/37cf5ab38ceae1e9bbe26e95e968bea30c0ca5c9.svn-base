@all
Feature: To ensure that users can delete a custom list that has NOT been used (Jira Ref. AUTOMATION-523)
#issue reported iwms-20036
  Scenario Outline: As a delete user I can able to delete a custom list that has NOT been used
    Given I Login to IWMS using "<Login User>" access credentials
    Then I check previous user login "<Login full username>" and continue if user "<Login User>" same or logout and login if not
    When I used data files from "Data/ImportDataFiles/iwms/AdminPage/CompanyAdministration/ManageCustomLists/"
    And I import following file name:
      | Delete_Custom_List.xml |
    And I navigate to the admin dashboard
    And I click on the "Manage Forms" link

#    Then I expand the "<Form Name>" row in grid "<Form Grid ID>"
#    And I click "delete" action of "<Form Layout>" sub row in the grid "<Form Grid ID>"
#    And I click on the "Yes" button
    And I wait for the Loading text to disappear in grid
    And I click "delete" row action for the row that has "<Form Name>" in column "Name"
    And I click on the "Yes" button
    And I wait for the Loading text to disappear in grid
#    Then I see "Successfully deleted Form Type" in the grid header
#    And I search member "<Form Name>"
#    And I verify row in grid "<Form Grid ID>" having value "<Form Name>" under column header "Name" not present
#    And I navigate to the admin dashboard
#    And I click on the "Manage Custom Lists" link
#    Then I expand the "<Custom List Name>" row in grid "<CL Grid ID>"
#    And I click "delete" action of "<Page Layout>" sub row in the grid "<CL Grid ID>"
#    Then I see the "Delete Layout" modal window
#    And I click on the "Yes" button
#    And I wait for the Loading text to disappear in grid
##    Then I see "Successfully deleted item" in the grid header
#    And I wait for modal window to close
#
#    And I navigate to the admin dashboard
##    And I click on the "Manage Forms" link
#    And I click on the "Manage Custom Lists" link
##    And I search member "<Page Layout>"
#    And I verify page layout in grid "<CL Grid ID>" having value "<Page Layout>" under column header "Name" not present
#
#    And I click "delete" row action for the row that has "<Custom List Name>" in column "Name"
#    Then I see the "Delete item" modal window
#    And I click on the "Yes" button
#    And I wait for the Loading text to disappear in grid
##    Then I see "Successfully deleted item" in the grid header
#    And I wait for modal window to close
#    And I search member "<Custom List Name>"
#    And I verify row in grid "<CL Grid ID>" having value "<Custom List Name>" under column header "Name" not present


    Examples:
      | Custom List Name   | Page Layout                 | Login User   | Login full username  | CL Grid ID                      | Form Grid ID        | Form Name    | Form Layout        |
      | Delete Custom List | Page layout for custom list | DeleteAccess | Delete Access Access | BOGridReportGroupDataCustomList | BOGridCodeIssueType | Delete Forms | Delete Custom list |



  Scenario Outline: As a delete user I verify the deleted a custom list that has NOT been used
    Given I Login to IWMS using "<Login User>" access credentials
    Then I check previous user login "<Login full username>" and continue if user "<Login User>" same or logout and login if not
    When I used data files from "Data/ImportDataFiles/iwms/AdminPage/CompanyAdministration/ManageCustomLists/"
    And I import following file name:
      | Delete_Custom_List.xml |
    And I navigate to the admin dashboard
    And I click on the "Manage Forms" link
    And I search member "<Form Name>"
    And I verify row in grid "<Form Grid ID>" having value "<Form Name>" under column header "Name" not present
    And I navigate to the admin dashboard
    And I click on the "Manage Custom Lists" link
    Then I expand the "<Custom List Name>" row in grid "<CL Grid ID>"
    And I click "delete" action of "<Page Layout>" sub row in the grid "<CL Grid ID>"
    Then I see the "Delete Layout" modal window
    And I click on the "Yes" button
    And I wait for the Loading text to disappear in grid
#    Then I see "Successfully deleted item" in the grid header
    And I wait for modal window to close

    And I navigate to the admin dashboard
#    And I click on the "Manage Forms" link
    And I click on the "Manage Custom Lists" link
#    And I search member "<Page Layout>"
    And I verify page layout in grid "<CL Grid ID>" having value "<Page Layout>" under column header "Name" not present

    And I click "delete" row action for the row that has "<Custom List Name>" in column "Name"
    Then I see the "Delete item" modal window
    And I click on the "Yes" button
    And I wait for the Loading text to disappear in grid
#    Then I see "Successfully deleted item" in the grid header
    And I wait for modal window to close
    And I search member "<Custom List Name>"
    And I verify row in grid "<CL Grid ID>" having value "<Custom List Name>" under column header "Name" not present


  Examples:
    | Custom List Name   | Page Layout                 | Login User   | Login full username  | CL Grid ID                      | Form Grid ID        | Form Name    | Form Layout        |
    | Delete Custom List | Page layout for custom list | DeleteAccess | Delete Access Access | BOGridReportGroupDataCustomList | BOGridCodeIssueType | Delete Forms | Delete Custom list |