@all
Feature: As an IWMS user I need to be able to create custom list.(Jira Ref. AUTOMATION-521)

  Scenario Outline: Adding CL Group
    Given I Login to IWMS using "<Login User>" access credentials
    Then I check previous user login "<Login full username>" and continue if user "<Login User>" same or logout and login if not
    And I navigate to the admin dashboard
    And I click on the "Manage Custom Lists" link
    And I wait for the Loading text to disappear in grid
#    Given I click " Add item... " button
    Given I click "Add item..." button
    Then I see the "Add item  ***Required fields in red" modal window
    And I set these field values on editable page
      | name                       | value              |
      | ReportGroupDataName        | <Custom List Name> |
      | CLRExtensionCodeSQLTableID | Standard           |
    When I click on the "Add" button
#    Then I see "Successfully added item" in the grid header
    Then I see these grid columns:
      | Name        |
      | Description |
      | Type        |
      | Actions     |

  Examples:
    | Custom List Name | Login User   | Login full username  |
    | Custom List      | DeleteAccess | Delete Access Access |

  Scenario Outline: Adding CL Fields
    Given I Login to IWMS using "<Login User>" access credentials
    Then I check previous user login "<Login full username>" and continue if user "<Login User>" same or logout and login if not
    And I navigate to the admin dashboard
    And I click on the "Manage Custom Lists" link
    And I wait for the Loading text to disappear in grid
    And I click "edit fields" row action for the row that has "<Custom List Name>" in column "Name"
    Then I see the "Edit fields" modal window
    #And I click " Add Report/Form Field... " button
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name                | value     |
      | radioTypeSelection  | Custom    |
      | DefaultLabel        | CheckBox  |
      | FormFieldTypeDriver | Check Box |
      | AccessorName        | Test      |

    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name                | value                  |
      | radioTypeSelection  | Custom                 |
      | DefaultLabel        | CCheckBox              |
      | FormFieldTypeDriver | Confirmation Check Box |
      | AccessorName        | Test1                  |
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name                | value    |
      | radioTypeSelection  | Custom   |
      | DefaultLabel        | Currency |
      | FormFieldTypeDriver | Currency |
      | AccessorName        | Test2    |
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name                | value  |
      | radioTypeSelection  | Custom |
      | DefaultLabel        | Date   |
      | FormFieldTypeDriver | Date   |
      | AccessorName        | Test3  |
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name                | value  |
      | radioTypeSelection  | Custom |
      | DefaultLabel        | Time   |
      | FormFieldTypeDriver | Time   |
      | AccessorName        | Test4  |
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name                | value  |
      | radioTypeSelection  | Custom |
      | DefaultLabel        | Num    |
      | FormFieldTypeDriver | Number |
      | AccessorName        | Test5  |
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name                | value  |
      | radioTypeSelection  | Custom |
      | DefaultLabel        | Memo   |
      | FormFieldTypeDriver | Memo   |
      | AccessorName        | Test6  |
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name                | value   |
      | radioTypeSelection  | Custom  |
      | DefaultLabel        | Percent |
      | FormFieldTypeDriver | Percent |
      | AccessorName        | Test7   |
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name                | value  |
      | radioTypeSelection  | Custom |
      | DefaultLabel        | Yes/No |
      | FormFieldTypeDriver | Yes/No |
      | AccessorName        | Test8  |
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name                | value    |
      | radioTypeSelection  | Custom   |
      | DefaultLabel        | Doc      |
      | FormFieldTypeDriver | Document |
      | AccessorName        | Test9    |
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click "Finished" button
    And I wait for the Loading text to disappear in grid

  Examples:
    | Custom List Name | Login User   | Login full username  |
    | Custom List      | DeleteAccess | Delete Access Access |

  Scenario Outline: Adding CL Math Fields
    Given I Login to IWMS using "<Login User>" access credentials
    Then I check previous user login "<Login full username>" and continue if user "<Login User>" same or logout and login if not
    And I navigate to the admin dashboard
    And I click on the "Manage Custom Lists" link
    And I wait for the Loading text to disappear in grid
    And I click "edit fields" row action for the row that has "<Custom List Name>" in column "Name"
    Then I see the "Edit fields" modal window
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name               | value |
      | radioTypeSelection | Math  |
    And I click on the "Add Number/Currency math field" link
    And I set fields values on editable page
      | name            | value  |
      | fieldName       | AddNum |
      | availableFields | Num    |
      | NumericConstant | 100    |
    And I click on >> button to move selected field
    And I click on "+" Button
    And I click on >> button to move numeric constants
    Then I click "Submit" button
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name               | value |
      | radioTypeSelection | Math  |
    And I click on the "Add Date math field" link
    And I set fields values on editable page
      | name          | value   |
      | fieldName     | AddDate |
      | DateFieldType | true    |
    Then I click "Submit" button
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name               | value |
      | radioTypeSelection | Math  |
    And I click on the "Add Time math field" link
    And I set fields values on editable page
      | name          | value   |
      | fieldName     | AddTime |
      | DateFieldType | true    |
    Then I click "Submit" button
    Then I click "Add" button
    And I wait for the Loading text to disappear in grid
    And I click "Finished" button

  Examples:
    | Custom List Name | Login User   | Login full username  |
    | Custom List      | DeleteAccess | Delete Access Access |

  Scenario Outline:Adding CL Standard Fields
    Given I Login to IWMS using "<Login User>" access credentials
    Then I check previous user login "<Login full username>" and continue if user "<Login User>" same or logout and login if not
    And I navigate to the admin dashboard
    And I click on the "Manage Custom Lists" link
    And I wait for the Loading text to disappear in grid
    And I click "edit fields" row action for the row that has "<Custom List Name>" in column "Name"
    Then I see the "Edit fields" modal window
    And I wait for the Loading text to disappear in grid
    And I click on " Add Report/Form Field... " button in grid
    And I set fields values on editable page
      | name   | value       |
      | RGAFID | Modified By |
    Then I click "Add" button
    And I click "Finished" button

  Examples:
    | Custom List Name | Login User   | Login full username  |
    | Custom List      | DeleteAccess | Delete Access Access |

  Scenario Outline:Adding CL Layout
    Given I Login to IWMS using "<Login User>" access credentials
    Then I check previous user login "<Login full username>" and continue if user "<Login User>" same or logout and login if not
    And I navigate to the admin dashboard
    And I click on the "Manage Custom Lists" link
    And I wait for the Loading text to disappear in grid
    And I click "add layout" row action for the row that has "<Custom List Name>" in column "Name"
    Then I see the "Add Layout for Custom List  ***Required fields in red" modal window
    And I set fields values on editable page
      | name           | value                          |
      | PageLayoutName | <Custom List page layout name> |
      | Description    | <Custom List page layout name> |
    Then I click "Add Layout" button
    And I wait for the Loading text to disappear in grid
    And I click "layout form" action of "<Custom List page layout name>" sub row in the grid "<CL Grid ID>"
    And I switch to "build layout" child window
    And I select the following options
      | <Field1> |
      | <Field2> |
      | <Field3> |
      | <Field4> |
    And I click on "Close" Button
    And I switch to main window

  Examples:
    | Custom List Name | Login User   | Login full username  | Custom List page layout name  | CL Grid ID                      | Field1        | Field2    | Field3   | Field4    |
    | Custom List      | DeleteAccess | Delete Access Access | Custom List page layout name2 | BOGridReportGroupDataCustomList | Currency(1x1) | Date(1x1) | Doc(1x1) | Memo(1x1) |
#      | Custom List      | DeleteAccess | Delete Access Access | Custom List page layout name3 | BOGridReportGroupDataCustomList | Num(1x1)      | Percent(1x1) | Time(1x1)     | AddDate(1x1)   |
#      | Custom List      | DeleteAccess | Delete Access Access | Custom List page layout name1 | BOGridReportGroupDataCustomList | AddNum(1x1)   | AddTime(1x1) | CheckBox(1x1) | CCheckBox(1x1) |


